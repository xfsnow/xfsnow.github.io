# 📚 数学题库系统使用指南

## 系统概述

这是一个完整的数学题库管理系统，支持题目的存储、展示、答案切换和打印功能。系统使用 LaTeX 格式保存数学公式，通过 MathJax 进行渲染。

## 🗂️ 数据保存方案

### 1. JSON 格式存储
题目数据保存在 `math_questions.json` 文件中，结构如下：

```json
{
  "version": "1.0",
  "questions": [
    {
      "id": 1,
      "title": "题目标题",
      "category": "geometry",
      "difficulty": "medium", 
      "content": "题目内容（支持LaTeX）",
      "answer": "答案内容（支持LaTeX）",
      "createTime": "2024-01-15"
    }
  ]
}
```

### 2. 浏览器本地存储
- 使用 `localStorage` 自动保存用户添加的题目
- 数据持久化，刷新页面不丢失
- 支持导入/导出 JSON 文件

### 3. 文件结构
```
/
├── maths.htm                 # 主页面文件
├── math_questions.json       # 题库数据文件
└── assets/
    └── css/
        └── style.css         # 样式文件
```

## 🎯 功能特性

### 题目管理
- ✅ **添加题目**: 支持分类、难度设置
- ✅ **编辑题目**: 直接修改题目内容
- ✅ **删除题目**: 单个删除或批量清空
- ✅ **分类管理**: 几何、代数、微积分等

### 显示功能
- ✅ **题目展示**: 默认只显示题目内容
- ✅ **答案切换**: 一键显示/隐藏所有答案
- ✅ **留白区域**: 为手写答案预留空间
- ✅ **数学渲染**: MathJax 渲染 LaTeX 公式

### 打印功能
- ✅ **专用打印样式**: 隐藏不必要的界面元素
- ✅ **答案隐藏**: 打印时自动隐藏答案
- ✅ **留白扩展**: 打印时答题区域加大
- ✅ **分页优化**: 避免题目跨页断开

## 🖥️ 页面展示方案

### 题目卡片设计
每道题目以卡片形式展示，包含：
- **题目头部**: 标题、分类、难度、操作按钮
- **题目内容**: 支持 LaTeX 数学公式渲染
- **答题区域**: 留白区域供手写答案
- **参考答案**: 可切换显示的详细解答

### 控制按钮
- 🔄 **切换答案显示**: 全局显示/隐藏答案
- 🖨️ **打印题目**: 生成适合打印的版本
- ➕ **添加题目**: 打开题目编辑器
- 🗑️ **清空题库**: 清除所有题目
- 📥 **加载示例**: 导入示例题目

### 响应式设计
- 📱 移动端适配
- 🖥️ 桌面端优化
- 📄 打印版本专门优化

## 📝 使用方法

### 添加题目
1. 点击"添加题目"按钮
2. 填写题目标题、分类、难度
3. 输入题目内容（可使用 LaTeX 语法）
4. 输入详细答案
5. 点击"保存题目"

### LaTeX 语法示例
```latex
# 行内公式
\\(\\alpha = 40^{\\circ}\\)

# 显示公式  
\\[\\triangle ABC \\cong \\triangle DEF\\]

# 分数
\\(\\frac{1}{2}\\)

# 角度
\\(\\angle ABC = 90^{\\circ}\\)
```

### 打印使用
1. 点击"打印题目"按钮
2. 系统自动隐藏答案和控制元素
3. 生成适合打印的页面布局
4. 使用浏览器打印功能

### 数据管理
- **自动保存**: 添加题目后自动保存到浏览器
- **数据导出**: 可导出为 JSON 文件备份
- **数据导入**: 可导入之前的 JSON 文件

## 🔧 技术实现

### 前端技术栈
- **HTML5**: 页面结构
- **CSS3**: 样式和打印样式
- **JavaScript**: 交互逻辑
- **MathJax 3.0**: LaTeX 数学公式渲染
- **LocalStorage**: 数据持久化

### 核心功能实现
- **LaTeX 转换**: `convertLatexToHTML()` 函数
- **MathJax 渲染**: 动态重新渲染数学公式
- **打印优化**: CSS `@media print` 媒体查询
- **数据管理**: JSON 格式存储和读取

## 🚀 扩展建议

### 功能扩展
- 📊 题目统计和分析
- 🔍 题目搜索和筛选
- 📤 题目分享功能
- 🏷️ 标签系统
- 📈 难度评估

### 数据扩展
- 🖼️ 支持图片插入
- 📎 附件管理
- 📝 题目评语系统
- ⏱️ 答题时间记录

### 协作功能
- 👥 多用户协作
- ☁️ 云端同步
- 📚 题库共享
- 🔄 版本控制

这个系统提供了完整的数学题库管理解决方案，既支持个人使用，也为将来的功能扩展奠定了基础。
