<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>数学题库系统</title>
<meta name="description" content="数学题库管理系统，支持LaTeX数学公式">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css">
<link rel="stylesheet" href="math_question.css"></link>
<script defer src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js"></script>
<script src="math_question.js"></script>
<script src="question.js"></script>
</head>
<body>
<!-- 页面标题 -->
<div class="page-header">
<h1 class="page-title">📚 数学题库系统</h1>
</div>

<!-- 数学题库系统 -->
<div class="math-bank-container">
<!-- 主要控制按钮 -->
<div class="main-controls">
<div class="control-group">
<button class="btn btn-success" data-action="toggleAddQuestion">
<i class="fas fa-plus"></i> 添加题目
</button>
</div>

<div class="control-group">
<button class="btn btn-warning" data-action="exportQuestions">
<i class="fas fa-file-export"></i> 导出题库
</button>
<button class="btn btn-secondary" data-action="importQuestions">
<i class="fas fa-file-import"></i> 导入题库
</button>
</div>

<div class="control-group">
<button class="btn btn-primary" data-action="printQuestions">
<i class="fas fa-print"></i> 打印题目
</button>
<button class="btn btn-danger" data-action="clearAllQuestions">
<i class="fas fa-trash"></i> 清空题库
</button>
</div>
</div>

<!-- 隐藏的文件输入 -->
<input type="file" id="importFile" accept=".js" style="display: none;">

<!-- 添加题目区域 -->
<div id="addQuestionArea" class="question-input-area" style="display: none;">
<h3 style="margin-bottom: 25px; color: #374151;">
<i class="fas fa-plus"></i> 添加新题目
</h3>

<div class="input-group">
<label for="questionTitle">题目标题：</label>
<input type="text" id="questionTitle" placeholder="例如：三角形全等证明题">
</div>

<div style="display: flex; gap: 20px;">
<div class="input-group" style="flex: 1;">
<label for="questionCategory">题目分类：</label>
<select id="questionCategory">
<option value="geometry">几何</option>
<option value="algebra">代数</option>
<option value="calculus">微积分</option>
<option value="probability">概率统计</option>
<option value="other">其他</option>
</select>
</div>
<div class="input-group" style="flex: 1;">
<label for="questionDifficulty">难度等级：</label>
<select id="questionDifficulty">
<option value="easy">简单</option>
<option value="medium">中等</option>
<option value="hard">困难</option>
</select>
</div>
</div>

<div class="input-group">
<label for="questionContent">题目内容（支持LaTeX）：</label>
<textarea id="questionContent" placeholder="输入题目内容，支持多行和LaTeX公式&#10;例如：\\(\\alpha = 40^{\\circ}\\)&#10;多行内容用回车键换行"></textarea>
<div class="preview-title">题目预览：</div>
<div class="preview-content" id="contentPreview"></div>
</div>

<div class="input-group">
<label for="questionAnswer">题目答案（支持LaTeX）：</label>
<textarea id="questionAnswer" placeholder="输入详细解答过程，支持多行&#10;可以使用LaTeX数学公式&#10;用空行分段，用回车键换行"></textarea>
<div class="preview-title">答案预览：</div>
<div class="preview-content" id="answerPreview"></div>
</div>

<div style="text-align: center; margin-top: 25px;">
<button class="btn btn-success" data-action="addQuestion">
<i class="fas fa-save"></i> 保存题目
</button>
<button class="btn btn-danger" data-action="cancelAddQuestion">
<i class="fas fa-times"></i> 取消
</button>
</div>
</div>

<!-- 题目列表容器 -->
<div id="questionsContainer">
<!-- 题目将动态插入到这里 -->
</div>
</div>
</body>
</html>