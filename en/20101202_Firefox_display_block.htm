<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Snowpeak Blog</title><meta name="description" content="Sharing and discussing cutting-edge technologies of AI and cloud computing, and other interesting topics."><meta name="keywords" content="AI, GitHub Copilot, Azure Cloud, Cloud Computing, Front-end Technology, Back-end Technology, Web Development, Software Engineering"><link rel="stylesheet" href="/assets/css/style.min.css"><link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script></head><body><nav class="navbar"><div class="nav-container"><div class="nav-logo"><h2><i class="fas fa-snowflake"></i> Snowpeak</h2></div><div class="nav-menu"><a href="/en/" class="nav-link">Home</a><a href="/en/page_1.htm" class="nav-link">Article</a><a href="/en#tools" class="nav-link">Tools</a><a href="/en/about.htm" class="nav-link">About</a><a href="/" class="nav-link lang-switch"><i class="fas fa-globe"></i> 简体中文</a></div><div class="nav-toggle" id="mobile-menu"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div></div></nav><header class="article-header"><div class="container"><h1>Firefox tbody Loses Width When Display is Set to Block</h1><div class="article-meta"><span><i class="fas fa-calendar"></i> Published: 2010-12-02 18:08:00</span><span><i class="fas fa-clock"></i> Reading time: 4 minutes </span><span><i class="fas fa-tag"></i> Category: Frontend</span></div></div></header><main class="article-container"><h2>Problem Description</h2><p>When using JavaScript to dynamically show and hide a table, initially setting the table's display property to block caused the entire table width to remain normal, but the borders of each table row could not be fully stretched. The example below shows the issue in non-IE browsers.</p> <pre><code class="language-css">table.displayBlock { 
  width: 90%; 
  border:2px solid #999; 
  display:block; 
}

table.displayBlock td{ 
  border:1px solid #fcc; 
}
</code></pre> <pre><code class="language-html">&lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;displayBlock&quot;&gt; 
  &lt;tr&gt; 
    &lt;td&gt;1&lt;/td&gt; 
    &lt;td&gt;1&lt;/td&gt; 
    &lt;td&gt;1&lt;/td&gt; 
    &lt;td&gt;1&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
    &lt;td&gt;2&lt;/td&gt; 
    &lt;td&gt;2&lt;/td&gt; 
    &lt;td&gt;2&lt;/td&gt; 
    &lt;td&gt;2&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
    &lt;td&gt;3&lt;/td&gt; 
    &lt;td&gt;3&lt;/td&gt; 
    &lt;td&gt;3&lt;/td&gt; 
    &lt;td&gt;3&lt;/td&gt; 
  &lt;/tr&gt; 
&lt;/table&gt;
</code></pre> <h2>Root Cause</h2><p>When a table's display property is set to block, regardless of whether the tbody tag is explicitly written in the HTML, Firefox parses the tbody to no longer be the same width as the table, but instead adapts to the width of the table rows.</p><h2>Solutions</h2><h3>Solution 1: Set display:table</h3><p>To make the tbody width normal, you must set display:table. A more universal workaround is to not directly set the table's display property when using JavaScript to control the table's visibility, but instead wrap the table with a div and set the div's display property to block or none.</p><h3>Solution 2: Set display to Empty String</h3><p>Later, while reading John Resig's "Pro JavaScript Techniques", I learned an even simpler approach - there's no need to wrap the table with a div. Just set the display property to an empty string when restoring visibility, like this:</p> <pre><code class="language-javascript">elem.style.display = '';
</code></pre> <p>The principle is that when set to an empty string, the element will typically revert to its original display property value, eliminating the need to manually distinguish between table and block.</p></main><footer class="footer"><div class="container"><div class="footer-content"><div class="footer-section"><h3><i class="fas fa-snowflake"></i> Snowpeak</h3><p>Sharing and discussing cutting-edge technologies of AI and cloud computing, and other interesting topics.</p><div class="social-links"><div class="social-platforms"><a href="https://github.com/xfsnow" target="_blank" class="social-link"><i class="fab fa-github"></i></a><a href="https://snowpeak.blog.csdn.net/" target="_blank" class="social-link"><i class="fas fa-blog"></i></a><a href="https://space.bilibili.com/701839928" target="_blank" class="social-link"><i class="fab fa-bilibili"></i></a><a href="https://www.linkedin.com/in/snowpeak" target="_blank" class="social-link"><i class="fab fa-linkedin"></i></a></div><div class="wechat-section"><div class="wechat-info"><span class="wechat-label">WeChat Account</span><span class="wechat-name">Tech Warm Life</span></div><img src="/assets/img/techwarm.jpg" alt="Tech Warm Life" class="wechat-qr"></div></div></div><div class="footer-section"><h4>Quick Links</h4><ul><li><a href="/#articles">Article</a></li><li><a href="/#tools">Tools</a></li><li><a href="https://docs.github.com/en/pages" target="_blank">GitHub Pages</a></li></ul></div><div class="footer-section"><h4>Tech Stack</h4><ul><li>Python</li><li>GitHub Copilot</li><li>Claude Sonnet 4</li><li>HTML/CSS/JS</li><li>Responsive Design</li></ul></div></div><div class="footer-bottom"><p>Copyright &copy; 2013-<script>document.write((new Date()).getFullYear());</script> Snowpeak Blog. Running on GitHub Pages. <a href="https://beian.miit.gov.cn" target="_blank" class="icp_beian">京ICP备2021007720号</a><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502052523" target="_blank" class="gongan_beian">京公网安备11010502052523号</a></p></div></div></footer><script src="/en/index.js"></script><script src="/assets/js/blog.min.js"></script><script>hljs.highlightAll();</script></body></html>